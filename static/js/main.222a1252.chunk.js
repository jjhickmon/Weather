(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(8),s=n.n(i),a=(n(13),n(2)),d=n(3),o=n(6),l=n(5),h=n(4),u=(n(14),n(0)),j=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._handleKeyDown=r._handleKeyDown.bind(Object(o.a)(r)),r.getVal=r.getVal.bind(Object(o.a)(r)),r.state={input:""},r}return Object(d.a)(n,[{key:"_handleKeyDown",value:function(e){"Enter"===e.key&&this.getVal()}},{key:"getVal",value:function(){var e=document.querySelector("input").value,t=e.split(" ");e=t.map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "),this.props.city(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)("input",{onKeyDown:this._handleKeyDown,type:"text",id:"search-bar",placeholder:"Search Your City Here"})})}}]),n}(c.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"hourly",children:this.props.hourly.map((function(e,t){if(t<24){var n=new Date(1e3*e.dt).getHours(),r=n>=12?"pm":"am";return n=n%12?n%12:12,Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"forecast-time",children:0===t?"Now":n+r}),Object(u.jsx)("p",{className:"POP",children:100*e.pop>=30?Math.round(100*e.pop)+"%":"-"}),Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",alt:"weather icon"}),Object(u.jsxs)("p",{className:"forecast-temp",children:[Math.round(e.temp),"\xb0"]})]},t)}return null}))})}}]),n}(c.a.Component),m=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"daily",children:this.props.daily.map((function(e,t){if(1<=t&&t<7){var n=new Date(1e3*e.dt).getDay();return Object(u.jsxs)("div",{className:"day",children:[Object(u.jsx)("div",{className:"name",children:Object(u.jsx)("p",{children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n]})}),Object(u.jsx)("div",{className:"icon",children:Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",alt:"weather icon"})}),Object(u.jsx)("div",{className:"POP",children:Math.round(100*e.pop)+"%"}),Object(u.jsx)("div",{className:"max",children:Object(u.jsx)("p",{children:Math.round(e.temp.max)})}),Object(u.jsx)("div",{className:"min",children:Object(u.jsx)("p",{children:Math.round(e.temp.min)})})]},t)}return null}))})}}]),n}(c.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getSunrise",value:function(){var e=new Date(1e3*this.props.current.sunrise),t=e.getHours(),n=t>=12?"pm":"am";return t=t%12?t%12:12,t+=e.getMinutes()<10?":0"+e.getMinutes():":"+e.getMinutes(),Object(u.jsx)("p",{children:t+n})}},{key:"getSunset",value:function(){var e=new Date(1e3*this.props.current.sunset),t=e.getHours(),n=t>=12?"pm":"am";return t=t%12?t%12:12,t+=e.getMinutes()<10?":0"+e.getMinutes():":"+e.getMinutes(),Object(u.jsx)("p",{children:t+n})}},{key:"getWind",value:function(){var e=Math.round(this.props.current.wind_deg/45+.5);return Object(u.jsx)("p",{children:["N","NE","E","SE","S","SW","W","NW"][e%8]+" "+this.props.current.wind_speed+"mph"})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"weather-stats",children:[Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"sunrise",children:[Object(u.jsx)("h6",{children:"Sunrise"}),this.getSunrise()]}),Object(u.jsxs)("div",{className:"sunset",children:[Object(u.jsx)("h6",{children:"Sunset"}),this.getSunset()]})]}),Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"POP",children:[Object(u.jsx)("h6",{children:"Chance of Rain"}),Object(u.jsx)("p",{children:100*this.props.daily[0].pop+"%"})]}),Object(u.jsxs)("div",{className:"humididty",children:[Object(u.jsx)("h6",{children:"Humididty"}),Object(u.jsx)("p",{children:this.props.current.humidity+"%"})]})]}),Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"wind",children:[Object(u.jsx)("h6",{children:"Wind"}),this.getWind()]}),Object(u.jsxs)("div",{className:"feels-like",children:[Object(u.jsx)("h6",{children:"Feels Like"}),Object(u.jsx)("p",{children:Math.round(this.props.current.feels_like)+"\xb0"})]})]}),Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"Precipitation",children:[Object(u.jsx)("h6",{children:"Precipitation"}),Object(u.jsx)("p",{children:(this.props.daily[0].rain?this.props.daily[0].rain:0)+" in"})]}),Object(u.jsxs)("div",{className:"Pressure",children:[Object(u.jsx)("h6",{children:"Pressure"}),Object(u.jsx)("p",{children:Math.round(this.props.current.pressure/33.863886666667*100)/100+" inHg"})]})]}),Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:"visibility",children:[Object(u.jsx)("h6",{children:"Visibility"}),Object(u.jsx)("p",{children:Math.round(621371e-9*this.props.current.visibility)+" mi"})]}),Object(u.jsxs)("div",{className:"uvi",children:[Object(u.jsx)("h6",{children:"UV Index"}),Object(u.jsx)("p",{children:this.props.current.uvi})]})]})]})}}]),n}(c.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).getCity=r.getCity.bind(Object(o.a)(r)),r.setTheme=r.setTheme.bind(Object(o.a)(r)),r.state={city:"Seattle",current:{temp:0,weather:[{description:""}],wind_speed:0},hourly:[],daily:[{temp:{min:0,max:0}}]},r}return Object(d.a)(n,[{key:"updateWeather",value:function(){var e=this;fetch("http://api.openweathermap.org/geo/1.0/direct?q="+this.state.city+"&appid=b5b4f0115cb376736a2f740df42c821b").then((function(e){return e.json()})).then((function(t){fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+t[0].lat+"&lon="+t[0].lon+"&units=imperial&appid=b5b4f0115cb376736a2f740df42c821b").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({current:t.current,hourly:t.hourly,daily:t.daily})}))}))}},{key:"componentDidMount",value:function(){this.updateWeather()}},{key:"load",value:function(){"light"===document.head.querySelector('meta[name="theme"]').content?(document.documentElement.style.setProperty("--primary-color","var(--cream)"),document.documentElement.style.setProperty("--secondary-color","var(--dark-blue)"),document.documentElement.style.setProperty("--tertiary-color","var(--dark-grey)"),document.documentElement.style.setProperty("--primary-accent-color","var(--light-blue)"),document.documentElement.style.setProperty("--secondary-accent-color","var(--light-grey)")):(document.documentElement.style.setProperty("--primary-color","var(--dark-blue)"),document.documentElement.style.setProperty("--secondary-color","var(--cream)"),document.documentElement.style.setProperty("--tertiary-color","var(--light-grey)"),document.documentElement.style.setProperty("--primary-accent-color","var(--bright-blue)"),document.documentElement.style.setProperty("--secondary-accent-color","var(--dark-blue)"))}},{key:"getCity",value:function(e){var t=this;fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&units=imperial&appid=b5b4f0115cb376736a2f740df42c821b").then((function(t){if(t.ok)return t.json();throw new Error("Error: "+e+" is not a city in the openweathermap api database")})).then((function(n){t.setState({city:e}),t.updateWeather()})).catch((function(e){console.log(e)}))}},{key:"setTheme",value:function(){"light"===document.head.querySelector('meta[name="theme"]').content?document.head.querySelector('meta[name="theme"]').content="dark":document.head.querySelector('meta[name="theme"]').content="light",this.load()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)(j,{id:"search-bar",city:this.getCity}),Object(u.jsx)("button",{id:"theme-switch",onClick:this.setTheme,children:"theme"})]}),Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("p",{id:"city",children:this.state.city}),Object(u.jsx)("p",{id:"weather",children:this.state.current.weather[0].description})]}),Object(u.jsxs)("div",{className:"curr-temp",children:[Object(u.jsxs)("p",{id:"temp",children:[Math.round(this.state.current.temp),"\xb0F"]}),Object(u.jsxs)("div",{className:"low-high",children:[Object(u.jsxs)("p",{id:"temp_min",children:["L: ",Math.round(this.state.daily[0].temp.min),"\xb0"]}),Object(u.jsxs)("p",{id:"temp_max",children:["H: ",Math.round(this.state.daily[0].temp.max),"\xb0"]})]})]})]}),Object(u.jsxs)("div",{className:"data",children:[Object(u.jsx)(p,{id:"hourly",hourly:this.state.hourly}),Object(u.jsx)(m,{id:"daily",daily:this.state.daily}),Object(u.jsx)(b,{id:"weather-stats",current:this.state.current,daily:this.state.daily})]})]})}}]),n}(c.a.Component),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(y,{}),document.getElementById("root")),O()}},[[16,1,2]]]);
//# sourceMappingURL=main.222a1252.chunk.js.map